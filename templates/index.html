<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>‚öõÔ∏è Physics Lab - Advanced Calculator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/plotly.js@2.26.0/dist/plotly.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Mobile Header with Menu Button -->
        <div class="mobile-header">
            <button class="mobile-menu-btn" id="mobileMenuBtn" onclick="toggleSidebar()">‚ò∞</button>
            <h1 class="mobile-title">‚öõÔ∏è Physics Lab</h1>
            <button class="theme-toggle" id="themeToggle">üåô</button>
        </div>
        
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h1 class="logo">‚öõÔ∏è Physics Lab</h1>
                <div class="header-buttons">
                    <button class="theme-toggle" id="themeToggle2">üåô</button>
                    <button class="minimize-btn" id="minimizeBtn" onclick="toggleSidebar()">‚óÄ</button>
                </div>
            </div>
            
            <div class="nav-section">
                <h3>Modules</h3>
                <button class="nav-btn" data-emoji="üè†" onclick="loadModule('home')">üè† Home</button>
                <button class="nav-btn" data-emoji="üìç" onclick="loadModule('kinematics')">üìç Kinematics</button>
                <button class="nav-btn" data-emoji="‚¨áÔ∏è" onclick="loadModule('freefall')">‚¨áÔ∏è Freefall</button>
                <button class="nav-btn" data-emoji="‚ö°" onclick="loadModule('work_energy')">‚ö° Work & Energy</button>
                <button class="nav-btn" data-emoji="üí´" onclick="loadModule('momentum')">üí´ Momentum</button>
                <button class="nav-btn" data-emoji="üîå" onclick="loadModule('electricity')">üîå Electricity</button>
                <button class="nav-btn" data-emoji="‚û°Ô∏è" onclick="loadModule('vectors')">‚û°Ô∏è Vectors</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content">
            <!-- Home Page -->
            <div id="home" class="module-view">
                <div class="welcome-header">
                    <h1>Welcome to Physics Lab v2.0</h1>
                    <p class="subtitle">Advanced Physics Calculations & Visualizations</p>
                </div>
                
                <div class="info-grid">
                    <div class="info-card">
                        <h3>üî¨ What is Physics?</h3>
                        <p>Physics is the natural science studying matter, energy, motion, and forces. This lab provides interactive tools to solve problems across 11 fundamental physics areas.</p>
                    </div>
                    
                    <div class="info-card">
                        <h3>üìö 11 Modules</h3>
                        <p>From basic kinematics to advanced electrostatics, explore comprehensive physics calculations with visual graphs and step-by-step solutions.</p>
                    </div>
                    
                    <div class="info-card">
                        <h3>üìä Instant Graphs</h3>
                        <p>Every calculation generates interactive graphs and visualizations to help you understand relationships between variables.</p>
                    </div>
                    
                    <div class="info-card">
                        <h3>üíæ Auto-Save</h3>
                        <p>All calculations are automatically saved to your history for easy reference and comparison.</p>
                    </div>
                </div>
                
                <div class="features-section">
                    <h2>Key Features</h2>
                    <ul class="features-list">
                        <li>‚úì Real-time calculations with instant results</li>
                        <li>‚úì Interactive graph visualizations</li>
                        <li>‚úì Comprehensive formulas reference</li>
                        <li>‚úì Full calculation history with search</li>
                        <li>‚úì Responsive design for all devices</li>
                        <li>‚úì Dark/Light theme support</li>
                    </ul>
                </div>
            </div>

            <!-- Kinematics Module -->
            <div id="kinematics" class="module-view">
                <h2>üìç Kinematics Calculator</h2>
                <p class="module-desc">Analyze motion using equations of motion. Enter known values:</p>
                
                <div class="calculator-grid">
                    <div class="input-group">
                        <label>Initial Velocity (u) m/s</label>
                        <input type="number" id="kin_u" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Acceleration (a) m/s¬≤</label>
                        <input type="number" id="kin_a" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Time (t) s</label>
                        <input type="number" id="kin_t" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Displacement (s) m</label>
                        <input type="number" id="kin_s" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Final Velocity (v) m/s</label>
                        <input type="number" id="kin_v" placeholder="0" step="0.1">
                    </div>
                </div>
                
                <button class="btn-calculate" onclick="calculate('kinematics')">Calculate</button>
                <div id="kin_results" class="results-section"></div>
                <div id="kin_graph" class="graph-container"></div>
            </div>

            <!-- Freefall Dynamics Module -->
            <div id="freefall" class="module-view">
                <h2>‚¨áÔ∏è Freefall Dynamics</h2>
                <p class="module-desc">Analyze objects falling under gravity:</p>
                
                <div class="calculator-grid">
                    <div class="input-group">
                        <label>Height (h) m</label>
                        <input type="number" id="ff_h" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Initial Velocity (v0) m/s</label>
                        <input type="number" id="ff_v0" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Time (t) s</label>
                        <input type="number" id="ff_t" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Gravity (g) m/s¬≤</label>
                        <input type="number" id="ff_g" placeholder="9.8" step="0.1" value="9.8">
                    </div>
                </div>
                
                <button class="btn-calculate" onclick="calculate('freefall')">Calculate</button>
                <div id="ff_results" class="results-section"></div>
                <div id="ff_graph" class="graph-container"></div>
            </div>

            <!-- Work and Energy Module -->
            <div id="work_energy" class="module-view">
                <h2>‚ö° Work and Energy</h2>
                <p class="module-desc">Calculate work and energy transformations:</p>
                
                <div class="calculator-grid">
                    <div class="input-group">
                        <label>Force (F) N</label>
                        <input type="number" id="we_force" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Distance (d) m</label>
                        <input type="number" id="we_distance" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Mass (m) kg</label>
                        <input type="number" id="we_mass" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Velocity (v) m/s</label>
                        <input type="number" id="we_velocity" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Height (h) m</label>
                        <input type="number" id="we_height" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Gravity (g) m/s¬≤</label>
                        <input type="number" id="we_g" placeholder="9.8" step="0.1" value="9.8">
                    </div>
                </div>
                
                <button class="btn-calculate" onclick="calculate('work_energy')">Calculate</button>
                <div id="we_results" class="results-section"></div>
                <div id="we_graph" class="graph-container"></div>
            </div>
            <!-- Electricity Module -->
            <div id="electricity" class="module-view">
                <h2>üîå Electricity</h2>
                <p class="module-desc">Calculate electrical properties:</p>
                
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchTab(event, 'electricity', 'ohms_tab')">Ohm's Law</button>
                    <button class="tab-btn" onclick="switchTab(event, 'electricity', 'coulombs_tab')">Coulomb's Law</button>
                </div>
                
                <div id="electricity_ohms_tab" class="tab-content active">
                    <div class="calculator-grid">
                        <div class="input-group">
                            <label>Voltage (V) Volts</label>
                            <input type="number" id="elec_V" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Current (I) Amperes</label>
                            <input type="number" id="elec_I" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Resistance (R) Ohms</label>
                            <input type="number" id="elec_R" placeholder="0" step="0.1">
                        </div>
                    </div>
                </div>
                
                <div id="electricity_coulombs_tab" class="tab-content">
                    <div class="calculator-grid">
                        <div class="input-group">
                            <label>Charge 1 (q1) Coulombs</label>
                            <input type="number" id="elec_q1" placeholder="0" step="0.0001">
                        </div>
                        <div class="input-group">
                            <label>Charge 2 (q2) Coulombs</label>
                            <input type="number" id="elec_q2" placeholder="0" step="0.0001">
                        </div>
                        <div class="input-group">
                            <label>Distance (r) m</label>
                            <input type="number" id="elec_r" placeholder="0" step="0.01">
                        </div>
                        <div class="input-group">
                            <label>Coulomb Constant (k) N‚ãÖm¬≤/C¬≤</label>
                            <input type="number" id="elec_k" placeholder="8.99e9" step="0.01" value="8.99e9">
                        </div>
                    </div>
                </div>
                
                <button class="btn-calculate" onclick="calculate('electricity')">Calculate</button>
                <div id="elec_results" class="results-section"></div>
                <div id="elec_graph" class="graph-container"></div>
            </div>

            <!-- Momentum Module -->
            <div id="momentum" class="module-view">
                <h2>üí´ Momentum Calculator</h2>
                <p class="module-desc">Analyze momentum and collisions:</p>
                
                <div class="calculator-grid">
                    <div class="input-group">
                        <label>Mass 1 (m1) kg</label>
                        <input type="number" id="mom_m1" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Velocity 1 (v1) m/s</label>
                        <input type="number" id="mom_v1" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Mass 2 (m2) kg</label>
                        <input type="number" id="mom_m2" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Velocity 2 (v2) m/s</label>
                        <input type="number" id="mom_v2" placeholder="0" step="0.1">
                    </div>
                </div>
                
                <button class="btn-calculate" onclick="calculate('momentum')">Calculate</button>
                <div id="mom_results" class="results-section"></div>
                <div id="mom_graph" class="graph-container"></div>
            </div>


            <!-- Vectors Module -->
            <div id="vectors" class="module-view">
                <h2>‚û°Ô∏è Vectors</h2>
                <p class="module-desc">Perform vector calculations:</p>
                
                <div class="tab-buttons">
                    <button class="tab-btn active" onclick="switchTab(event, 'vectors', 'magnitude_tab')">Magnitude</button>
                    <button class="tab-btn" onclick="switchTab(event, 'vectors', 'addition_tab')">Addition</button>
                    <button class="tab-btn" onclick="switchTab(event, 'vectors', 'dot_tab')">Dot Product</button>
                    <button class="tab-btn" onclick="switchTab(event, 'vectors', 'angle_tab')">Angle</button>
                </div>
                
                <div id="vectors_magnitude_tab" class="tab-content active">
                    <div class="calculator-grid">
                        <div class="input-group">
                            <label>X Component</label>
                            <input type="number" id="vec_mag_x" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Y Component</label>
                            <input type="number" id="vec_mag_y" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Z Component</label>
                            <input type="number" id="vec_mag_z" placeholder="0" step="0.1">
                        </div>
                    </div>
                </div>
                
                <div id="vectors_addition_tab" class="tab-content">
                    <div class="calculator-grid">
                        <div class="input-group">
                            <label>Vector A - X</label>
                            <input type="number" id="vec_add_ax" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Vector A - Y</label>
                            <input type="number" id="vec_add_ay" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Vector B - X</label>
                            <input type="number" id="vec_add_bx" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Vector B - Y</label>
                            <input type="number" id="vec_add_by" placeholder="0" step="0.1">
                        </div>
                    </div>
                </div>
                
                <div id="vectors_dot_tab" class="tab-content">
                    <div class="calculator-grid">
                        <div class="input-group">
                            <label>Vector A - X</label>
                            <input type="number" id="vec_dot_ax" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Vector A - Y</label>
                            <input type="number" id="vec_dot_ay" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Vector B - X</label>
                            <input type="number" id="vec_dot_bx" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Vector B - Y</label>
                            <input type="number" id="vec_dot_by" placeholder="0" step="0.1">
                        </div>
                    </div>
                </div>
                
                <div id="vectors_angle_tab" class="tab-content">
                    <div class="calculator-grid">
                        <div class="input-group">
                            <label>Vector A - X</label>
                            <input type="number" id="vec_angle_ax" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Vector A - Y</label>
                            <input type="number" id="vec_angle_ay" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Vector B - X</label>
                            <input type="number" id="vec_angle_bx" placeholder="0" step="0.1">
                        </div>
                        <div class="input-group">
                            <label>Vector B - Y</label>
                            <input type="number" id="vec_angle_by" placeholder="0" step="0.1">
                        </div>
                    </div>
                </div>
                
                <button class="btn-calculate" onclick="calculate('vectors')">Calculate</button>
                <div id="vec_results" class="results-section"></div>
                <div id="vec_graph" class="graph-container"></div>
            </div>
        </main>
    </div>

    <!-- Modals -->
    <div id="historyModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìä Calculation History</h2>
                <button class="close-btn" onclick="closeModal('historyModal')">&times;</button>
            </div>
            <div id="historyContent" class="modal-body"></div>
        </div>
    </div>

    <div id="formulasModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìã Physics Formulas</h2>
                <button class="close-btn" onclick="closeModal('formulasModal')">&times;</button>
            </div>
            <div id="formulasContent" class="modal-body"></div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
