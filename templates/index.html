<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>‚öõÔ∏è Physics Lab - Advanced Calculator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/plotly.js@2.26.0/dist/plotly.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Mobile Header with Menu Button -->
        <div class="mobile-header">
            <button class="mobile-menu-btn" id="mobileMenuBtn" onclick="toggleSidebar()">‚ò∞</button>
            <h1 class="mobile-title">‚öõÔ∏è Physics Lab</h1>
            <button class="theme-toggle" id="themeToggle">üåô</button>
        </div>
        
        <!-- Sidebar Navigation -->
        <nav class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h1 class="logo">‚öõÔ∏è Physics Lab</h1>
                <div class="header-buttons">
                    <button class="theme-toggle" id="themeToggle2">üåô</button>
                    <button class="minimize-btn" id="minimizeBtn" onclick="toggleSidebar()">‚óÄ</button>
                </div>
            </div>
            
            <div class="nav-section">
                <h3>Modules</h3>
                <button class="nav-btn" data-emoji="üè†" onclick="loadModule('home')">üè† Home</button>
                <button class="nav-btn" data-emoji="üìç" onclick="loadModule('kinematics')">üìç Kinematics</button>
                <button class="nav-btn" data-emoji="‚öôÔ∏è" onclick="loadModule('newtons_law')">‚öôÔ∏è Newton's Law</button>
                <button class="nav-btn" data-emoji="‚ö°" onclick="loadModule('pe_ke')">‚ö° PE & KE</button>
                <button class="nav-btn" data-emoji="üí´" onclick="loadModule('momentum')">üí´ Momentum</button>
            </div>
            
            <div class="nav-section">
                <h3>Tools</h3>
                <button class="nav-btn secondary" onclick="showHistory()">üìä History</button>
                <button class="nav-btn secondary" onclick="showFormulas()">üìã Formulas</button>
                <button class="nav-btn secondary" onclick="clearHistory()">üóëÔ∏è Clear History</button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content">
            <!-- Home Page -->
            <div id="home" class="module-view">
                <div class="welcome-header">
                    <h1>Welcome to Physics Lab</h1>
                    <p class="subtitle">Master Core Physics Concepts Through Interactive Calculations</p>
                </div>
                
                <div class="info-grid">
                    <div class="info-card">
                        <h3>üî¨ What is Physics Lab?</h3>
                        <p>An interactive platform designed to help you master essential physics concepts through practical calculations and real-time visualizations.</p>
                    </div>
                    
                    <div class="info-card">
                        <h3>üéì 4 Core Modules</h3>
                        <p>Focus on fundamental physics: Kinematics, Newton's Laws, Energy, and Momentum - the building blocks of classical mechanics.</p>
                    </div>
                    
                    <div class="info-card">
                        <h3>üìä Interactive Visualizations</h3>
                        <p>Every calculation generates beautiful graphs and visualizations to help you understand the relationships between physical quantities.</p>
                    </div>
                    
                    <div class="info-card">
                        <h3>üíæ Persistent History</h3>
                        <p>Track all your calculations and compare results instantly. Learn from past problems and build your physics intuition.</p>
                    </div>
                </div>
                
                <div class="features-section">
                    <h2>Key Features</h2>
                    <ul class="features-list">
                        <li>‚úì Real-time calculations with instant results</li>
                        <li>‚úì Interactive graph visualizations</li>
                        <li>‚úì Comprehensive formulas reference</li>
                        <li>‚úì Full calculation history with search</li>
                        <li>‚úì Responsive design for all devices</li>
                        <li>‚úì Dark/Light theme support</li>
                    </ul>
                </div>
            </div>

            <!-- Kinematics Module -->
            <div id="kinematics" class="module-view">
                <h2>üìç Kinematics Calculator</h2>
                <p class="module-desc">Analyze motion using equations of motion. Enter known values:</p>
                
                <div class="calculator-grid">
                    <div class="input-group">
                        <label>Initial Velocity (u) m/s</label>
                        <input type="number" id="kin_u" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Acceleration (a) m/s¬≤</label>
                        <input type="number" id="kin_a" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Time (t) s</label>
                        <input type="number" id="kin_t" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Displacement (s) m</label>
                        <input type="number" id="kin_s" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Final Velocity (v) m/s</label>
                        <input type="number" id="kin_v" placeholder="0" step="0.1">
                    </div>
                </div>
                
                <button class="btn-calculate" onclick="calculate('kinematics')">Calculate</button>
                <div id="kin_results" class="results-section"></div>
                <div id="kin_graph" class="graph-container"></div>
            </div>

            <!-- Newton's Law Module -->
            <div id="newtons_law" class="module-view">
                <h2>‚öôÔ∏è Newton's Law of Motion</h2>
                <p class="module-desc">Calculate forces and acceleration using Newton's laws:</p>
                
                <div class="calculator-grid">
                    <div class="input-group">
                        <label>Force (F) N</label>
                        <input type="number" id="nl_f" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Mass (m) kg</label>
                        <input type="number" id="nl_m" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Acceleration (a) m/s¬≤</label>
                        <input type="number" id="nl_a" placeholder="0" step="0.1">
                    </div>
                </div>
                
                <button class="btn-calculate" onclick="calculate('newtons_law')">Calculate</button>
                <div id="nl_results" class="results-section"></div>
                <div id="nl_graph" class="graph-container"></div>
            </div>

            <!-- PE & KE Module -->
            <div id="pe_ke" class="module-view">
                <h2>‚ö° Potential & Kinetic Energy</h2>
                <p class="module-desc">Calculate energy transformations:</p>
                
                <div class="calculator-grid">
                    <div class="input-group">
                        <label>Mass (m) kg</label>
                        <input type="number" id="ek_m" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Height (h) m</label>
                        <input type="number" id="ek_h" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Velocity (v) m/s</label>
                        <input type="number" id="ek_v" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Gravity (g) m/s¬≤</label>
                        <input type="number" id="ek_g" placeholder="9.8" step="0.1" value="9.8">
                    </div>
                </div>
                
                <button class="btn-calculate" onclick="calculate('pe_ke')">Calculate</button>
                <div id="ek_results" class="results-section"></div>
                <div id="ek_graph" class="graph-container"></div>
            </div>

            <!-- Freefall Dynamics Module -->
            <div id="freefall" class="module-view hidden"></div>

            <!-- Work and Energy Module -->
            <div id="work_energy" class="module-view hidden"></div>
            <!-- Electricity Module -->
            <div id="electricity" class="module-view hidden"></div>

            <!-- Momentum Module -->
            <div id="momentum" class="module-view">
                <h2>üí´ Momentum Calculator</h2>
                <p class="module-desc">Analyze momentum and collisions:</p>
                
                <div class="calculator-grid">
                    <div class="input-group">
                        <label>Mass 1 (m1) kg</label>
                        <input type="number" id="mom_m1" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Velocity 1 (v1) m/s</label>
                        <input type="number" id="mom_v1" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Mass 2 (m2) kg</label>
                        <input type="number" id="mom_m2" placeholder="0" step="0.1">
                    </div>
                    <div class="input-group">
                        <label>Velocity 2 (v2) m/s</label>
                        <input type="number" id="mom_v2" placeholder="0" step="0.1">
                    </div>
                </div>
                
                <button class="btn-calculate" onclick="calculate('momentum')">Calculate</button>
                <div id="mom_results" class="results-section"></div>
                <div id="mom_graph" class="graph-container"></div>
            </div>


            <!-- Vectors Module -->
            <div id="vectors" class="module-view hidden"></div>

            <!-- Projectile Motion Module -->
            <div id="projectile" class="module-view hidden"></div>

            <!-- Circular Motion Module -->
            <div id="circular" class="module-view hidden"></div>
        </main>
    </div>

    <!-- Modals -->
    <div id="historyModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìä Calculation History</h2>
                <button class="close-btn" onclick="closeModal('historyModal')">&times;</button>
            </div>
            <div id="historyContent" class="modal-body"></div>
        </div>
    </div>

    <div id="formulasModal" class="modal hidden">
        <div class="modal-content">
            <div class="modal-header">
                <h2>üìã Physics Formulas</h2>
                <button class="close-btn" onclick="closeModal('formulasModal')">&times;</button>
            </div>
            <div id="formulasContent" class="modal-body"></div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>
